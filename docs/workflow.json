{
  "swagger": "2.0",
  "info": {
    "version": "0.0.1",
    "title": "workflow api"
  },
  "host": "172.16.7.120:8080",
  "schemes": [
    "http"
  ],
  "paths": {
    "/workflow/start": {
      "post": {
        "operationId": "start",
        "summary": "开启工作流",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "start",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": [
                "type",
                "name",
                "userId",
                "dataId"
              ],
              "properties": {
                "type": {
                  "type": "string",
                  "description": "工作流类型: ins_add为新增机构"
                },
                "name": {
                  "type": "string",
                  "description": "工作流流程名称"
                },
                "userId": {
                  "type": "string",
                  "description": "用户id"
                },
                "dataId": {
                  "type": "string",
                  "description": "数据id，机构注册为机构id，商户注册为商户id"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "正确返回",
            "examples": {
              "application/json": {
                "err": null
              }
            }
          }
        }
      }
    },
    "/workflow/listTask": {
      "post": {
        "operationId": "listTask",
        "summary": "任务列表",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization",
            "type": "string",
            "required": true
          },
          {
            "name": "start",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": [
                "page",
                "size"
              ],
              "properties": {
                "page": {
                  "type": "integer",
                  "description": "页码"
                },
                "size": {
                  "type": "integer",
                  "description": "页面大小"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "正确返回",
            "examples": {
              "application/json": {
                "items": [
                  {
                    "taskId": "2",
                    "title": "1",
                    "userId": "admin",
                    "currentNode": "机构经办",
                    "camundaTaskId": "d064a957-9d46-11e9-abe5-0242ac170006",
                    "instanceId": "d06370d4-9d46-11e9-abe5-0242ac170006",
                    "endFlag": false,
                    "createdAt": "2019-07-03 03:03:58",
                    "updatedAt": "2019-07-03 03:03:58"
                  },
                  {
                    "taskId": "3",
                    "title": "2",
                    "userId": "admin",
                    "currentNode": "终审节点",
                    "camundaTaskId": "151b4d3d-9d61-11e9-abe5-0242ac170006",
                    "instanceId": "f3019883-9d60-11e9-abe5-0242ac170006",
                    "endFlag": false,
                    "createdAt": "2019-07-03 07:07:05",
                    "updatedAt": "2019-07-03 07:07:06"
                  },
                  {
                    "taskId": "4",
                    "title": "3",
                    "userId": "admin",
                    "currentNode": "终审节点",
                    "camundaTaskId": "7f209169-9d61-11e9-abe5-0242ac170006",
                    "instanceId": "7b5669ff-9d61-11e9-abe5-0242ac170006",
                    "endFlag": false,
                    "createdAt": "2019-07-03 07:07:09",
                    "updatedAt": "2019-07-03 07:07:09"
                  },
                  {
                    "taskId": "5",
                    "title": "4",
                    "userId": "admin",
                    "currentNode": "机构经办",
                    "camundaTaskId": "31de03ad-9d62-11e9-abe5-0242ac170006",
                    "instanceId": "31dc2eea-9d62-11e9-abe5-0242ac170006",
                    "endFlag": false,
                    "createdAt": "2019-07-03 07:07:14",
                    "updatedAt": "2019-07-03 07:07:14"
                  },
                  {
                    "taskId": "6",
                    "title": "5",
                    "userId": "admin",
                    "currentNode": "终审节点",
                    "camundaTaskId": "686e371f-9d62-11e9-abe5-0242ac170006",
                    "instanceId": "63a3ddc5-9d62-11e9-abe5-0242ac170006",
                    "endFlag": false,
                    "createdAt": "2019-07-03 07:07:15",
                    "updatedAt": "2019-07-03 07:07:16"
                  },
                  {
                    "taskId": "7",
                    "title": "6",
                    "userId": "admin",
                    "currentNode": "终审节点",
                    "camundaTaskId": "c4949bca-9d62-11e9-abe5-0242ac170006",
                    "instanceId": "bf206de0-9d62-11e9-abe5-0242ac170006",
                    "endFlag": false,
                    "createdAt": "2019-07-03 15:03:18",
                    "updatedAt": "2019-07-03 15:03:18"
                  },
                  {
                    "taskId": "9",
                    "title": "新增机构111",
                    "userId": "admin",
                    "currentNode": "机构经办",
                    "camundaTaskId": "01086a59-9e03-11e9-abe5-0242ac170006",
                    "instanceId": "01081c36-9e03-11e9-abe5-0242ac170006",
                    "endFlag": false,
                    "createdAt": "2019-07-04 10:10:25",
                    "updatedAt": "2019-07-04 10:10:25"
                  }
                ],
                "count": 7,
                "size": 10,
                "page": 1,
                "err": null
              }
            }
          }
        }
      }
    },
    "/workflow/handleTask": {
      "post": {
        "operationId": "handleTask",
        "summary": "处理任务",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "handleTask",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": [
                "taskId",
                "result"
              ],
              "properties": {
                "taskId": {
                  "type": "integer",
                  "description": "任务id"
                },
                "result": {
                  "type": "string",
                  "description": "任务结果"
                },
                "remark": {
                  "type": "string",
                  "description": "备注"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "正确返回",
            "examples": {
              "application/json": {
                "err": null
              }
            }
          }
        }
      }
    },
    "/workflow/listRemark": {
      "post": {
        "operationId": "listRemark",
        "summary": "备注列表",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "listRemark",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": [
                "page",
                "size",
                "item"
              ],
              "properties": {
                "page": {
                  "type": "integer",
                  "description": "页码"
                },
                "size": {
                  "type": "integer",
                  "description": "页面大小"
                },
                "item": {
                  "type": "object",
                  "description": "备注",
                  "properties": {
                    "remarkId": {
                      "type": "integer"
                    },
                    "comment": {
                      "type": "string",
                      "description": "内容"
                    },
                    "taskId": {
                      "type": "integer",
                      "description": "任务id"
                    }
                  }
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "正确返回",
            "examples": {
              "application/json": {
                "err": null
              }
            }
          }
        }
      }
    }
  }
}
